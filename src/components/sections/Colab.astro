---
import background from '@/assets/background.svg'
import P1 from '@/assets/prawo.avif'
import { Image } from 'astro:assets'
import { Icon } from 'astro-icon/components'
import { number } from 'astro:schema'

const colabData = [
  {
    number: 'I',
    title: 'Spotkanie organizacyjne z adwokatem',
    desc: 'Podczas pierwszego spotkania poznaję Klienta, omawiamy jego sytuację oraz oczekiwania względem współpracy. Wyjaśniam, jak przebiega proces i odpowiadam na wszystkie pytania.',
  },
  {
    number: 'II',
    title: 'Analiza sytuacji i ustalenie strategii',
    desc: 'Analizuję przedstawione informacje i dokumenty, a następnie wspólnie z Klientem określamy, czego dokładnie potrzebuje. Ustalamy strategię działania i zakres mojej pomocy.',
  },
  {
    number: 'III',
    title: 'Podpisanie pełnomocnictwa',
    desc: 'Po uzgodnieniu warunków i zakresu współpracy, proszę Klienta o podpisanie pełnomocnictwa, co umożliwia mi reprezentowanie go przed sądami i instytucjami.',
  },
]
---

<section
  id='collaboration'
  class='flex flex-col gap-8 xl:gap-16 px-spaced py-8 xl:py-16 items-center justify-center w-full'
>
  <div class='flex flex-row gap-2 xl:gap-4 items-center'>
    <div class='h-1 w-16 xl:w-32 bg-accent rounded-full'></div>
    <h2 class='aboreto-regular text-2xl xl:text-4xl text-center max-w-4xl'>
      Współpraca z adwokatem Biała Podlaska
    </h2>
    <div class='h-1 w-16 xl:w-32 bg-accent rounded-full'></div>
  </div>
  <div
    class='flex flex-col gap-8 xl:gap-0 relative intersect:animate-fade-in-scale-index intersect-once xl:mt-24'
  >
    <div
      class='xl:absolute inset-0 z-10 flex flex-col xl:flex-row justify-center h-max pointer-events-none xl:-top-24'
    >
      {
        colabData.map((item) => (
          <div class='flex flex-col bg-gradient-to-b from-[#dfdfd4] to-background xl:min-h-[25vh] z-10 p-5 items-center border-1 border-accent pointer-events-auto w-full xl:max-w-lg'>
            <div class='flex flex-col gap-4 xl:gap-0 xl:justify-between items-center h-full'>
              <h3 class='text-lg xl:text-3xl text-center aboreto-regular'>
                {item.title}
              </h3>
              <p class='text-sm xl:text-base text-center'>{item.desc}</p>
            </div>
          </div>
        ))
      }
    </div>
    <Image
      src={P1}
      alt={'Spotkanie prawnika z klientem w kancelarii adwokackiej.'}
      loading={'lazy'}
      fetchpriority={'high'}
      class={'rounded-2xl w-full double-brand-clip'}
      widths={[400, 600, 800, 1000, 1200, 1600, 2000]}
      sizes='(max-width: 400px) 400px, (max-width: 600px) 600px, (max-width: 800px) 800px, (max-width: 1000px) 1000px, (max-width: 1200px) 1200px, (max-width: 1600px) 1600px, (min-width: 1601px) 2000px'
    />
  </div>
</section>

<style>
  .double-brand-clip {
    clip-path: none; /* domyślnie brak efektu */
  }

  @media (min-width: 1280px) {
    .double-brand-clip {
      clip-path: polygon(0 0, 100% 0, 100% 80%, 50% 100%, 0 80%);
    }
  }
</style>
